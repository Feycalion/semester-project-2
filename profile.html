<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VintageVault | Profile</title>
    <link rel="stylesheet" href="./src/output.css" />
    <script type="module" defer src="./src/api/profile.mjs"></script>
    <script type="module" defer src="./src/api/profileBids.mjs"></script>
    <script type="module" defer src="./src/api/updateProfile.mjs"></script>
    <script type="module" defer src="./src/api/createListing.mjs"></script>
    <script type="module" defer src="./index.mjs"></script>
  </head>
  <body class="bg-background font-montserrat text-darkgray">
    <!-- Header -->

    <header class="absolute top-4 left-0 right-0 p-4 z-30 font-poiret text-xl">
      <!-- Burger menu icon -->
      <button id="burger-menu-btn" class="text-offwhite block md:hidden">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          x="0px"
          y="0px"
          width="38"
          height="38"
          viewBox="0,0,300,300"
        >
          <g
            fill="#ffeede"
            fill-rule="nonzero"
            stroke="none"
            stroke-width="1"
            stroke-linecap="butt"
            stroke-linejoin="miter"
            stroke-miterlimit="10"
            stroke-dasharray=""
            stroke-dashoffset="0"
            font-family="none"
            font-weight="none"
            font-size="none"
            text-anchor="none"
            style="mix-blend-mode: normal"
          >
            <g transform="scale(5.12,5.12)">
              <path d="M0,9v2h50v-2zM0,24v2h50v-2zM0,39v2h50v-2z"></path>
            </g>
          </g>
        </svg>
      </button>

      <!-- Nav -->

      <nav class="justify-between items-center max-w-[1200px] m-auto md:flex">
        <div class="hidden gap-4 md:flex">
          <a href="/index.html" class="text-offwhite">Home</a>
        </div>

        <div
          id="register"
          class="flex gap-4 justify-end items-center my-[-40px]"
        >
          <a href="/register.html" class="text-offwhite">Register</a>
          <a href="login.html" class="text-offwhite">Log In</a>
        </div>

        <!-- Logged in view -->

        <div
          class="flex justify-end gap-4 items-center my-[-40px] mx-[-20px]"
          id="avatar"
        >
          <p id="credits" class="text-offwhite">$1000</p>
          <img
            id="profile-img"
            class="w-10 h-10 rounded-full"
            src="/images/0_0 (8).webp"
            alt="User"
          />
          <div class="">
            <div
              id="dropdown"
              class="flex flex-col absolute mx-[-220px] top-12 mt-2 w-48 z-[2000] bg-offwhite hidden"
            >
              <a href="/profile.html" class="px-4 py-2">Profile</a>
              <a href="#" id="logout" class="px-4 py-2">Log Out</a>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <!-- Burger menu -->
    <div
      id="burger-menu-overlay"
      class="fixed top-0 left-0 w-full h-full bg-backgrounddark bg-opacity-75 z-20 hidden"
    >
      <div class="flex justify-end p-4">
        <button id="burger-menu-close-btn" class="text-offwhite">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6"
            viewBox="0 0 24 24"
            fill="currentColor"
          >
            <path d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>

      <div class="flex flex-col items-center mt-20">
        <a href="/index.html" class="text-offwhite font-poiret text-xl mb-4"
          >Home</a
        >
        <a
          href="/profile.html"
          id="menu-logged-in"
          class="text-offwhite font-poiret text-xl mb-4"
          >Profile</a
        >
        <div id="menu-register" class="flex flex-col">
          <a
            href="/register.html"
            class="text-offwhite font-poiret text-xl mb-4"
            >Register</a
          >
          <a href="/login.html" class="text-offwhite font-poiret text-xl"
            >Log In</a
          >
        </div>
      </div>
    </div>

    <div
      class="relative overflow-hidden bg-cover bg-no-repeat"
      style="
        background-position: 50%;
        background-image: url('images/headernoise.png');
        height: 100px;
      "
    ></div>
    <main class="min-h-screen">
      <section class="px-4 py-[60px] md:py-[120px]">
        <!-- Container -->
        <div
          id="profile-container"
          class="max-w-[1200px] m-auto flex flex-col md:flex-row"
        >
          <!-- Profile -->
          <div class="flex flex-col gap-4 md:w-1/2 md:pr-8">
            <div class="flex flex-row gap-4">
              <h1 class="text-2xl"></h1>
              <svg
                id="update-profile"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M22 2.00007C22 2.00007 14.36 1.63007 8.34 9.88007C3.72 16.2101 2 22.0001 2 22.0001L3.94 21.0001C5.38 18.5001 6.13 17.4701 7.54 16.0001C10.07 16.7401 12.71 16.6501 15 14.0001C13 13.4401 11.4 13.5701 9.04 13.8101C11.69 12.0001 13.5 11.6001 16 12.0001L17 10.0001C15.2 9.66007 14 9.63007 12.22 10.0401C14.19 8.65007 15.56 7.87007 18 8.00007L19.21 6.07007C17.65 5.96007 16.71 6.13007 14.92 6.57007C16.53 5.11007 18 4.45007 20.14 4.32007C20.14 4.32007 21.19 2.43007 22 2.00007Z"
                  fill="#484845"
                />
              </svg>
            </div>
            <img
              id="img"
              src=""
              alt=""
              class="max-w-[328px] max-h-[328px] object-cover"
            />

            <p class="text-xl">Bio</p>
            <p id="bio" class="max-w-[328px]"></p>

            <button
              id="create-listing-btn"
              class="max-w-[328px] py-3 border border-lightgray rounded-md font-medium"
            >
              Create listing
            </button>
          </div>

          <!-- My bids -->
          <div
            id="bids-container"
            class="flex flex-col gap-4 md:w-1/2 md:pl-8 py-8"
          >
            <h2 class="text-xl">My bids</h2>
            <ul id="bids-list" class="flex flex-col gap-2"></ul>
          </div>
        </div>
      </section>

      <!-- Create listing modal -->

      <div
        id="create-modal"
        class="fixed top-0 left-0 w-full h-full bg-black bg-opacity-75 flex items-center justify-center hidden"
      >
        <div class="bg-backgrounddark md:w-[628px]">
          <div class="p-6 md:p-20 flex flex-col gap-4">
            <h2
              class="text-offwhite font-poiret text-2xl md:text-3xl mb-6 self-center"
            >
              CREATE NEW LISTING
            </h2>
            <form id="create-form" class="text-offwhite flex flex-col gap-4">
              <div class="mb-4">
                <label class="block mb-1">Title</label>
                <input
                  id="listing-title"
                  type="text"
                  placeholder="Start typing..."
                  class="w-full p-2 rounded border border-offwhite text-lightgray"
                />
              </div>
              <div class="mb-4">
                <label class="block mb-1"
                  >Image URL (must contain a valid URL)</label
                >
                <input
                  id="listing-image"
                  type="text"
                  placeholder="image.url"
                  class="w-full p-2 rounded border border-offwhite text-lightgray"
                />
              </div>
              <div class="mb-4">
                <label class="block mb-1">Description</label>
                <textarea
                  id="listing-description"
                  maxlength="280"
                  placeholder="Start typing..."
                  class="w-full p-2 rounded border border-offwhite text-lightgray"
                ></textarea>
                <p id="char-count-desc">280 characters remaining</p>
              </div>
              <div class="mb-4">
                <label class="block mb-1">Tags (separate by comma)</label>
                <input
                  id="listing-tags"
                  type="text"
                  placeholder="Start typing..."
                  class="w-full p-2 rounded border border-offwhite text-lightgray"
                />
              </div>
              <div class="mb-4">
                <label class="block mb-1"
                  >Listing deadline (choose a valid date)</label
                >
                <input
                  id="listing-deadline"
                  type="date"
                  class="w-full p-2 rounded border border-offwhite text-lightgray"
                />
              </div>
              <button
                type="submit"
                class="flex items-center justify-center w-full py-3 border border-offwhite rounded-md font-medium hover:bg-background hover:text-darkgray"
              >
                Create Listing
              </button>
            </form>
          </div>
        </div>
      </div>

      <!-- Update profile modal -->

      <div
        id="update-modal"
        class="fixed top-0 left-0 w-full h-full bg-black bg-opacity-75 flex items-center justify-center hidden"
      >
        <div class="bg-backgrounddark md:w-[628px]">
          <div class="p-6 md:p-20 flex flex-col gap-4">
            <h2
              class="text-offwhite font-poiret text-2xl md:text-3xl mb-6 self-center"
            >
              UPDATE PROFILE
            </h2>
            <form id="update-form" class="text-offwhite flex flex-col gap-4">
              <div class="mb-4">
                <label class="block mb-1"
                  >Profile picture (must contain a valid URL)</label
                >
                <input
                  id="update-image"
                  type="text"
                  placeholder="image.url"
                  class="w-full p-2 rounded border border-offwhite text-lightgray"
                />
              </div>
              <div class="mb-4">
                <label class="block mb-1">Bio</label>
                <textarea
                  id="update-bio"
                  maxlength="160"
                  placeholder="Start typing..."
                  class="w-full p-2 rounded border border-offwhite text-lightgray"
                ></textarea>
                <p id="char-count">160 characters remaining</p>
              </div>

              <button
                type="submit"
                class="flex items-center justify-center w-full py-3 border border-offwhite rounded-md font-medium hover:bg-background hover:text-darkgray"
              >
                Update profile
              </button>
            </form>
          </div>
        </div>
      </div>
    </main>
    <footer class="bg-darkgray p-12">
      <div class="container mx-auto flex justify-center">
        <ul class="text-offwhite flex flex-col items-center gap-6">
          <li>VintageVault © 2024</li>
        </ul>
      </div>
    </footer>
  </body>
</html>
